import { Component, EventEmitter, Input, Output } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { finalize } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "../../services/reporter.service";
import * as i2 from "../../services/geographic.service";
import * as i3 from "@cima/commons";
import * as i4 from "@angular/material/slide-toggle";
import * as i5 from "@angular/material/form-field";
import * as i6 from "../print-layout/print-layout.component";
import * as i7 from "@angular/material/checkbox";
import * as i8 from "../warning-pluvio/warning-pluvio.component";
import * as i9 from "../warning-idro/warning-idro.component";
import * as i10 from "../img-uploader/img-uploader.component";
import * as i11 from "@angular/forms";
import * as i12 from "@angular/common";
import * as i13 from "@angular/material/input";
export class CurrentSituationComponent {
    constructor(reportService, geoService, snackBar) {
        this.reportService = reportService;
        this.geoService = geoService;
        this.snackBar = snackBar;
        this.currentReportChange = new EventEmitter();
        this.availableMaps = [];
        this.sectionEnabled = false;
        this.textCurrent = '<span>Situazione attuale...</span>';
        this.config = { height: '200px', placeholder: 'Situazione attuale...' };
        this.uploadedImageLayers = [];
        this.warningIdroLayers = [];
        this.warningPluvioLayers = [];
        this.view = undefined;
        this.mapDisabled = new BehaviorSubject(true);
    }
    enableReport() {
        if (this.sectionEnabled) {
            this.currentReport = {
                fromUTCSecond: 0,
                toUTCSecond: 0,
                text: '',
                title: '',
                nImgs: 1,
                raings_title: 'Pluviometri',
                hydros_title: 'Idrometri',
                layers: [] //todo
            };
            this.viewSubscription = this.geoService.onViewCange().subscribe(data => {
                this.view = data;
                this.mapDisabled.next(this.view === undefined);
            });
            this.updateLayers();
            this.dateUpdate();
        }
        else {
            this.currentReport = undefined;
            if (this.viewSubscription)
                this.viewSubscription.unsubscribe();
        }
        this.currentReportChange.emit(this.currentReport);
    }
    ngOnInit() {
        this.enableReport();
        this.reportService.getAvailableMaps().subscribe(data => this.availableMaps = data);
    }
    updateLayers() {
        this.currentReport.layers = [];
        this.availableMaps.forEach(itm => { if (itm.selected && itm.data)
            this.currentReport.layers.push(itm.data); });
        this.warningIdroLayers.forEach(itm => this.currentReport.layers.push(itm));
        this.warningPluvioLayers.forEach(itm => this.currentReport.layers.push(itm));
        this.uploadedImageLayers.forEach(itm => this.currentReport.layers.push(itm));
        console.log('layers', this.currentReport.layers);
    }
    uploadedImageChange(event) {
        console.log(event);
        this.uploadedImageLayers = event;
        this.updateLayers();
    }
    warnIdroChange(event) {
        console.log(event);
        this.warningIdroLayers = event;
        this.updateLayers();
    }
    warnPluvioChange(event) {
        this.warningPluvioLayers = event;
        this.updateLayers();
    }
    layoutChange(layout) {
        if (this.currentReport)
            this.currentReport.nImgs = layout.numberOfImages;
        console.log('report', this.currentReport);
    }
    //todo: gestire cambio ritaglio
    selectMaps(map, value) {
        map.selected = value.checked;
        if (map.selected) {
            let mapParameter = {
                layer: map.value,
                from: this.currentReport.fromUTCSecond,
                to: this.currentReport.toUTCSecond,
                description: map.description,
                cumul: 3,
                lon: this.view.lon,
                lat: this.view.lat,
                zoom: this.view.zoom
            };
            this.mapDisabled.next(true);
            this.reportService.printMap(mapParameter)
                .pipe(finalize(() => this.mapDisabled.next(false)))
                .subscribe(data => {
                map.data = data;
                this.updateLayers();
            }, error => {
                console.log(error);
                this.snackBar.error('Errore durante il caricamento della mappa ' + map.description, '', { duration: 2000 });
                map.selected = false;
            });
        }
    }
    dateUpdate() {
        if (this.dateFrom)
            this.currentReport.fromUTCSecond = Math.trunc(new Date(this.dateFrom).getTime() / 1000);
        if (this.dateTo)
            this.currentReport.toUTCSecond = Math.trunc(new Date(this.dateTo).getTime() / 1000);
    }
}
CurrentSituationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: CurrentSituationComponent, deps: [{ token: i1.ReporterService }, { token: i2.GeographicService }, { token: i3.SnackbarService }], target: i0.ɵɵFactoryTarget.Component });
CurrentSituationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: CurrentSituationComponent, selector: "reporter-current-situation", inputs: { currentReport: "currentReport" }, outputs: { currentReportChange: "currentReportChange" }, ngImport: i0, template: "<!--abilitazione-->\n<mat-slide-toggle\n  class=\"\"\n  color=primary [(ngModel)]=\"sectionEnabled\" (change)=\"enableReport()\">\n  Includi Situazione Attuale\n</mat-slide-toggle>\n\n\n<div class=\"section-wrapper\" [ngClass]=\"!sectionEnabled?'section-disabled':''\">\n  <!--mappa-->\n  <div class=\"col-12 my-2\">\n    <!--periodo di analisi-->\n    <h2 class=\"border-bottom mb-3 mt-3\">Periodo di Analisi</h2>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>da</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data da\" [(ngModel)]= \"dateFrom\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>a</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data a\" [(ngModel)]= \"dateTo\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <!-- <button mat-flat-button color=\"primary\"><span class=\"fas fa-clock me-1\"></span>Now</button> -->\n\n  </div>\n\n  <!--testo situazione pregressa-->\n  <div class=\"col-12 my-2\" *ngIf=\"sectionEnabled\">\n    <cima-text-editor [(text)]=\"currentReport.text\" [config]=\"config\"></cima-text-editor>\n  </div>\n\n  <!--layout stampa-->\n  <div class=\"col-12 my-2\">\n    <reporter-print-layout (selected)=\"layoutChange($event)\"></reporter-print-layout>\n  </div>\n\n  <!--layer-->\n  <div class=\"col-12 my-2\">\n    <h2 class=\"border-bottom mb-3 mt-3\">Layers</h2>\n    <div class=\"row\">\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <h3>Data</h3>\n          <div *ngFor=\"let map of availableMaps\" >\n            <mat-checkbox class=\"example-margin\"  [checked]=\"map.selected\" [disabled]=\"mapDisabled | async\" (change)=\"selectMaps(map,$event)\">{{map.description}}</mat-checkbox>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-pluvio  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnPluvioChange($event)\"></reporter-warning-pluvio>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-idro  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnIdroChange($event)\"></reporter-warning-idro>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-img-uploader (uploadedChange)=\"uploadedImageChange($event)\"></reporter-img-uploader>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n", styles: [".section-disabled{opacity:.3;pointer-events:none}.col-wrapper{background-color:#f5f5f5;border-radius:4px}:host ::ng-deep .col-wrapper .mat-form-field-infix{width:auto!important}\n"], components: [{ type: i4.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex", "name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "checked"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }, { type: i5.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }, { type: i3.TextEditorComponent, selector: "cima-text-editor", inputs: ["validator", "text", "config"], outputs: ["textChange"] }, { type: i6.PrintLayoutComponent, selector: "reporter-print-layout", outputs: ["selected"] }, { type: i7.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i8.WarningPluvioComponent, selector: "reporter-warning-pluvio", inputs: ["disabled", "report"], outputs: ["warningChange"] }, { type: i9.WarningIdroComponent, selector: "reporter-warning-idro", inputs: ["disabled", "report"], outputs: ["warningChange"] }, { type: i10.ImgUploaderComponent, selector: "reporter-img-uploader", outputs: ["uploadedChange"] }], directives: [{ type: i11.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i11.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i12.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i5.MatLabel, selector: "mat-label" }, { type: i13.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i11.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i12.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i12.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }], pipes: { "async": i12.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: CurrentSituationComponent, decorators: [{
            type: Component,
            args: [{ selector: 'reporter-current-situation', template: "<!--abilitazione-->\n<mat-slide-toggle\n  class=\"\"\n  color=primary [(ngModel)]=\"sectionEnabled\" (change)=\"enableReport()\">\n  Includi Situazione Attuale\n</mat-slide-toggle>\n\n\n<div class=\"section-wrapper\" [ngClass]=\"!sectionEnabled?'section-disabled':''\">\n  <!--mappa-->\n  <div class=\"col-12 my-2\">\n    <!--periodo di analisi-->\n    <h2 class=\"border-bottom mb-3 mt-3\">Periodo di Analisi</h2>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>da</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data da\" [(ngModel)]= \"dateFrom\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>a</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data a\" [(ngModel)]= \"dateTo\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <!-- <button mat-flat-button color=\"primary\"><span class=\"fas fa-clock me-1\"></span>Now</button> -->\n\n  </div>\n\n  <!--testo situazione pregressa-->\n  <div class=\"col-12 my-2\" *ngIf=\"sectionEnabled\">\n    <cima-text-editor [(text)]=\"currentReport.text\" [config]=\"config\"></cima-text-editor>\n  </div>\n\n  <!--layout stampa-->\n  <div class=\"col-12 my-2\">\n    <reporter-print-layout (selected)=\"layoutChange($event)\"></reporter-print-layout>\n  </div>\n\n  <!--layer-->\n  <div class=\"col-12 my-2\">\n    <h2 class=\"border-bottom mb-3 mt-3\">Layers</h2>\n    <div class=\"row\">\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <h3>Data</h3>\n          <div *ngFor=\"let map of availableMaps\" >\n            <mat-checkbox class=\"example-margin\"  [checked]=\"map.selected\" [disabled]=\"mapDisabled | async\" (change)=\"selectMaps(map,$event)\">{{map.description}}</mat-checkbox>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-pluvio  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnPluvioChange($event)\"></reporter-warning-pluvio>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-idro  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnIdroChange($event)\"></reporter-warning-idro>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-img-uploader (uploadedChange)=\"uploadedImageChange($event)\"></reporter-img-uploader>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n", styles: [".section-disabled{opacity:.3;pointer-events:none}.col-wrapper{background-color:#f5f5f5;border-radius:4px}:host ::ng-deep .col-wrapper .mat-form-field-infix{width:auto!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.ReporterService }, { type: i2.GeographicService }, { type: i3.SnackbarService }]; }, propDecorators: { currentReport: [{
                type: Input
            }], currentReportChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2ltYS9yZXBvcnRlci9zcmMvbGliL2NvbXBvbmVudHMvY3VycmVudC1zaXR1YXRpb24vY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2ltYS9yZXBvcnRlci9zcmMvbGliL2NvbXBvbmVudHMvY3VycmVudC1zaXR1YXRpb24vY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvRSxPQUFPLEVBQUUsZUFBZSxFQUFnQixNQUFNLE1BQU0sQ0FBQztBQUNyRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQVkxQyxNQUFNLE9BQU8seUJBQXlCO0lBc0JwQyxZQUFvQixhQUE4QixFQUFVLFVBQTZCLEVBQzdFLFFBQXlCO1FBRGpCLGtCQUFhLEdBQWIsYUFBYSxDQUFpQjtRQUFVLGVBQVUsR0FBVixVQUFVLENBQW1CO1FBQzdFLGFBQVEsR0FBUixRQUFRLENBQWlCO1FBckIzQix3QkFBbUIsR0FBRyxJQUFJLFlBQVksRUFBaUIsQ0FBQztRQUUzRCxrQkFBYSxHQUFRLEVBQUUsQ0FBQztRQUN4QixtQkFBYyxHQUFDLEtBQUssQ0FBQTtRQU1wQixnQkFBVyxHQUFXLG9DQUFvQyxDQUFDO1FBQzNELFdBQU0sR0FBOEIsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSx1QkFBdUIsRUFBQyxDQUFBO1FBRzFGLHdCQUFtQixHQUFRLEVBQUUsQ0FBQztRQUM5QixzQkFBaUIsR0FBUSxFQUFFLENBQUM7UUFD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RDNEYSx5QkFBeUI7a0JBTHJDLFNBQVM7K0JBQ0UsNEJBQTRCO29LQUs3QixhQUFhO3NCQUFyQixLQUFLO2dCQUNJLG1CQUFtQjtzQkFBNUIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7U25hY2tiYXJTZXJ2aWNlLCBUZXh0RWRpdG9yQ29tcG9uZW50Q29uZmlnfSBmcm9tIFwiQGNpbWEvY29tbW9uc1wiO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGZpbmFsaXplIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgUHJpbnRMYXlvdXQgfSBmcm9tICcuLi8uLi9tb2RlbHMvY2xhc3Nlcyc7XG5pbXBvcnQgeyBDdXJyZW50UmVwb3J0IH0gZnJvbSAnLi4vLi4vbW9kZWxzL2ludGVyZmFjZXMnO1xuaW1wb3J0IHtGYWtlRGF0YVNlcnZpY2V9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9mYWtlLWRhdGEuc2VydmljZVwiO1xuaW1wb3J0IHsgR2VvZ3JhcGhpY1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9nZW9ncmFwaGljLnNlcnZpY2UnO1xuaW1wb3J0IHsgUmVwb3J0ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcmVwb3J0ZXIuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3JlcG9ydGVyLWN1cnJlbnQtc2l0dWF0aW9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2N1cnJlbnQtc2l0dWF0aW9uLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBDdXJyZW50U2l0dWF0aW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgY3VycmVudFJlcG9ydDogQ3VycmVudFJlcG9ydDtcbiAgQE91dHB1dCgpIGN1cnJlbnRSZXBvcnRDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPEN1cnJlbnRSZXBvcnQ+KCk7XG5cbiAgcHVibGljIGF2YWlsYWJsZU1hcHM6IGFueVtdPVtdO1xuICBwdWJsaWMgc2VjdGlvbkVuYWJsZWQ9ZmFsc2VcblxuICBwdWJsaWMgZGF0ZUZyb206IGFueTtcbiAgcHVibGljIGRhdGVUbzogYW55O1xuXG5cbiAgcHVibGljIHRleHRDdXJyZW50OiBzdHJpbmcgPSAnPHNwYW4+U2l0dWF6aW9uZSBhdHR1YWxlLi4uPC9zcGFuPic7XG4gIHB1YmxpYyBjb25maWc6IFRleHRFZGl0b3JDb21wb25lbnRDb25maWcgPSB7aGVpZ2h0OicyMDBweCcsIHBsYWNlaG9sZGVyOiAnU2l0dWF6aW9uZSBhdHR1YWxlLi4uJ31cblxuXG4gIHB1YmxpYyB1cGxvYWRlZEltYWdlTGF5ZXJzOiBhbnlbXT1bXTtcbiAgcHVibGljIHdhcm5pbmdJZHJvTGF5ZXJzOiBhbnlbXT1bXTtcbiAgcHVibGljIHdhcm5pbmdQbHV2aW9MYXllcnM6IGFueVtdPVtdO1xuICBwdWJsaWMgdmlldzogYW55PXVuZGVmaW5lZDtcbiAgcHVibGljIG1hcERpc2FibGVkPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KHRydWUpO1xuICB2aWV3U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZXBvcnRTZXJ2aWNlOiBSZXBvcnRlclNlcnZpY2UsIHByaXZhdGUgZ2VvU2VydmljZTogR2VvZ3JhcGhpY1NlcnZpY2UsXG4gICAgICBwcml2YXRlIHNuYWNrQmFyOiBTbmFja2JhclNlcnZpY2UpIHsgfVxuXG5cblxuICBwdWJsaWMgZW5hYmxlUmVwb3J0KCl7XG4gICAgaWYgKHRoaXMuc2VjdGlvbkVuYWJsZWQpe1xuICAgICAgdGhpcy5jdXJyZW50UmVwb3J0ID0ge1xuICAgICAgICBmcm9tVVRDU2Vjb25kOiAwLFxuICAgICAgICB0b1VUQ1NlY29uZDogMCxcbiAgICAgICAgdGV4dDogJycsXG4gICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgbkltZ3M6IDEsXG4gICAgICAgIHJhaW5nc190aXRsZTogJ1BsdXZpb21ldHJpJyxcbiAgICAgICAgaHlkcm9zX3RpdGxlOiAnSWRyb21ldHJpJyxcbiAgICAgICAgbGF5ZXJzOiBbXSAvL3RvZG9cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWV3U3Vic2NyaXB0aW9uPXRoaXMuZ2VvU2VydmljZS5vblZpZXdDYW5nZSgpLnN1YnNjcmliZShcbiAgICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldz1kYXRhO1xuICAgICAgICAgICAgdGhpcy5tYXBEaXNhYmxlZC5uZXh0KHRoaXMudmlldz09PXVuZGVmaW5lZCk7XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHRoaXMudXBkYXRlTGF5ZXJzKCk7XG4gICAgICAgIHRoaXMuZGF0ZVVwZGF0ZSgpO1xuICAgIH0gZWxzZXtcbiAgICAgIHRoaXMuY3VycmVudFJlcG9ydD0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRoaXMudmlld1N1YnNjcmlwdGlvbikgdGhpcy52aWV3U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50UmVwb3J0Q2hhbmdlLmVtaXQodGhpcy5jdXJyZW50UmVwb3J0KTtcblxuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5lbmFibGVSZXBvcnQoKTtcbiAgICB0aGlzLnJlcG9ydFNlcnZpY2UuZ2V0QXZhaWxhYmxlTWFwcygpLnN1YnNjcmliZShcbiAgICAgIGRhdGEgPT4gdGhpcy5hdmFpbGFibGVNYXBzPWRhdGFcbiAgICApXG5cblxuXG4gIH1cbiAgcHJpdmF0ZSB1cGRhdGVMYXllcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50UmVwb3J0LmxheWVycz1bXTtcbiAgICB0aGlzLmF2YWlsYWJsZU1hcHMuZm9yRWFjaChpdG0gPT4ge2lmIChpdG0uc2VsZWN0ZWQgJiYgaXRtLmRhdGEpICB0aGlzLmN1cnJlbnRSZXBvcnQubGF5ZXJzLnB1c2goaXRtLmRhdGEpfSk7XG4gICAgdGhpcy53YXJuaW5nSWRyb0xheWVycy5mb3JFYWNoKCBpdG0gPT4gdGhpcy5jdXJyZW50UmVwb3J0LmxheWVycy5wdXNoKGl0bSkpO1xuICAgIHRoaXMud2FybmluZ1BsdXZpb0xheWVycy5mb3JFYWNoKCBpdG0gPT4gdGhpcy5jdXJyZW50UmVwb3J0LmxheWVycy5wdXNoKGl0bSkpO1xuICAgIHRoaXMudXBsb2FkZWRJbWFnZUxheWVycy5mb3JFYWNoKGl0bSA9PiB0aGlzLmN1cnJlbnRSZXBvcnQubGF5ZXJzLnB1c2goaXRtKSk7XG4gICAgY29uc29sZS5sb2coJ2xheWVycycsdGhpcy5jdXJyZW50UmVwb3J0LmxheWVycyk7XG4gIH1cblxuICBwdWJsaWMgdXBsb2FkZWRJbWFnZUNoYW5nZShldmVudDogYW55KSB7XG4gICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgIHRoaXMudXBsb2FkZWRJbWFnZUxheWVycz1ldmVudDtcbiAgICB0aGlzLnVwZGF0ZUxheWVycygpO1xuICB9XG4gIHB1YmxpYyB3YXJuSWRyb0NoYW5nZShldmVudDogYW55KSB7XG4gICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgIHRoaXMud2FybmluZ0lkcm9MYXllcnM9ZXZlbnQ7XG4gICAgdGhpcy51cGRhdGVMYXllcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyB3YXJuUGx1dmlvQ2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLndhcm5pbmdQbHV2aW9MYXllcnM9ZXZlbnQ7XG4gICAgdGhpcy51cGRhdGVMYXllcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBsYXlvdXRDaGFuZ2UobGF5b3V0OiBQcmludExheW91dCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRSZXBvcnQpXG4gICAgICB0aGlzLmN1cnJlbnRSZXBvcnQubkltZ3MgPSBsYXlvdXQubnVtYmVyT2ZJbWFnZXM7XG4gICAgY29uc29sZS5sb2coJ3JlcG9ydCcsdGhpcy5jdXJyZW50UmVwb3J0KTtcbiAgfVxuICAvL3RvZG86IGdlc3RpcmUgY2FtYmlvIHJpdGFnbGlvXG4gIHNlbGVjdE1hcHMobWFwOiBhbnksdmFsdWU6IGFueSkge1xuICAgIG1hcC5zZWxlY3RlZD12YWx1ZS5jaGVja2VkO1xuICAgIGlmIChtYXAuc2VsZWN0ZWQpe1xuICAgICAgbGV0IG1hcFBhcmFtZXRlcj17XG4gICAgICAgIGxheWVyOiBtYXAudmFsdWUsXG4gICAgICAgIGZyb206IHRoaXMuY3VycmVudFJlcG9ydC5mcm9tVVRDU2Vjb25kLFxuICAgICAgICB0bzogdGhpcy5jdXJyZW50UmVwb3J0LnRvVVRDU2Vjb25kLFxuICAgICAgICBkZXNjcmlwdGlvbjogbWFwLmRlc2NyaXB0aW9uLFxuICAgICAgICBjdW11bDogMyxcbiAgICAgICAgbG9uOiB0aGlzLnZpZXcubG9uLFxuICAgICAgICBsYXQ6IHRoaXMudmlldy5sYXQsXG4gICAgICAgIHpvb206IHRoaXMudmlldy56b29tXG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFwRGlzYWJsZWQubmV4dCh0cnVlKTtcblxuICAgICAgdGhpcy5yZXBvcnRTZXJ2aWNlLnByaW50TWFwKG1hcFBhcmFtZXRlcilcbiAgICAgICAgICAucGlwZShmaW5hbGl6ZSgoKT0+IHRoaXMubWFwRGlzYWJsZWQubmV4dChmYWxzZSkpKVxuICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBtYXAuZGF0YT1kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5ZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3IgPT57XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5lcnJvcignRXJyb3JlIGR1cmFudGUgaWwgY2FyaWNhbWVudG8gZGVsbGEgbWFwcGEgJyttYXAuZGVzY3JpcHRpb24sICcnLCB7ZHVyYXRpb246MjAwMH0pO1xuICAgICAgICAgICAgICBtYXAuc2VsZWN0ZWQ9ZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGRhdGVVcGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuZGF0ZUZyb20pXG4gICAgICB0aGlzLmN1cnJlbnRSZXBvcnQuZnJvbVVUQ1NlY29uZD0gTWF0aC50cnVuYyhuZXcgRGF0ZSh0aGlzLmRhdGVGcm9tKS5nZXRUaW1lKCkvMTAwMCk7XG4gICAgaWYgKHRoaXMuZGF0ZVRvKVxuICAgICAgdGhpcy5jdXJyZW50UmVwb3J0LnRvVVRDU2Vjb25kPSBNYXRoLnRydW5jKG5ldyBEYXRlKHRoaXMuZGF0ZVRvKS5nZXRUaW1lKCkvMTAwMCk7XG4gIH1cbn1cbiIsIjwhLS1hYmlsaXRhemlvbmUtLT5cbjxtYXQtc2xpZGUtdG9nZ2xlXG4gIGNsYXNzPVwiXCJcbiAgY29sb3I9cHJpbWFyeSBbKG5nTW9kZWwpXT1cInNlY3Rpb25FbmFibGVkXCIgKGNoYW5nZSk9XCJlbmFibGVSZXBvcnQoKVwiPlxuICBJbmNsdWRpIFNpdHVhemlvbmUgQXR0dWFsZVxuPC9tYXQtc2xpZGUtdG9nZ2xlPlxuXG5cbjxkaXYgY2xhc3M9XCJzZWN0aW9uLXdyYXBwZXJcIiBbbmdDbGFzc109XCIhc2VjdGlvbkVuYWJsZWQ/J3NlY3Rpb24tZGlzYWJsZWQnOicnXCI+XG4gIDwhLS1tYXBwYS0tPlxuICA8ZGl2IGNsYXNzPVwiY29sLTEyIG15LTJcIj5cbiAgICA8IS0tcGVyaW9kbyBkaSBhbmFsaXNpLS0+XG4gICAgPGgyIGNsYXNzPVwiYm9yZGVyLWJvdHRvbSBtYi0zIG10LTNcIj5QZXJpb2RvIGRpIEFuYWxpc2k8L2gyPlxuXG4gICAgPG1hdC1mb3JtLWZpZWxkIGFwcGVhcmFuY2U9XCJmaWxsXCIgY2xhc3M9XCJtZS0yXCI+XG4gICAgICA8bWF0LWxhYmVsPmRhPC9tYXQtbGFiZWw+XG4gICAgICA8aW5wdXQgbWF0SW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgcGxhY2Vob2xkZXI9XCJkYXRhIGRhXCIgWyhuZ01vZGVsKV09IFwiZGF0ZUZyb21cIiAoY2hhbmdlKT1cImRhdGVVcGRhdGUoKVwiPlxuICAgIDwvbWF0LWZvcm0tZmllbGQ+XG5cbiAgICA8bWF0LWZvcm0tZmllbGQgYXBwZWFyYW5jZT1cImZpbGxcIiBjbGFzcz1cIm1lLTJcIj5cbiAgICAgIDxtYXQtbGFiZWw+YTwvbWF0LWxhYmVsPlxuICAgICAgPGlucHV0IG1hdElucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHBsYWNlaG9sZGVyPVwiZGF0YSBhXCIgWyhuZ01vZGVsKV09IFwiZGF0ZVRvXCIgKGNoYW5nZSk9XCJkYXRlVXBkYXRlKClcIj5cbiAgICA8L21hdC1mb3JtLWZpZWxkPlxuXG4gICAgPCEtLSA8YnV0dG9uIG1hdC1mbGF0LWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIj48c3BhbiBjbGFzcz1cImZhcyBmYS1jbG9jayBtZS0xXCI+PC9zcGFuPk5vdzwvYnV0dG9uPiAtLT5cblxuICA8L2Rpdj5cblxuICA8IS0tdGVzdG8gc2l0dWF6aW9uZSBwcmVncmVzc2EtLT5cbiAgPGRpdiBjbGFzcz1cImNvbC0xMiBteS0yXCIgKm5nSWY9XCJzZWN0aW9uRW5hYmxlZFwiPlxuICAgIDxjaW1hLXRleHQtZWRpdG9yIFsodGV4dCldPVwiY3VycmVudFJlcG9ydC50ZXh0XCIgW2NvbmZpZ109XCJjb25maWdcIj48L2NpbWEtdGV4dC1lZGl0b3I+XG4gIDwvZGl2PlxuXG4gIDwhLS1sYXlvdXQgc3RhbXBhLS0+XG4gIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXktMlwiPlxuICAgIDxyZXBvcnRlci1wcmludC1sYXlvdXQgKHNlbGVjdGVkKT1cImxheW91dENoYW5nZSgkZXZlbnQpXCI+PC9yZXBvcnRlci1wcmludC1sYXlvdXQ+XG4gIDwvZGl2PlxuXG4gIDwhLS1sYXllci0tPlxuICA8ZGl2IGNsYXNzPVwiY29sLTEyIG15LTJcIj5cbiAgICA8aDIgY2xhc3M9XCJib3JkZXItYm90dG9tIG1iLTMgbXQtM1wiPkxheWVyczwvaDI+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1sZy02IGNvbC14bC0zIG1iLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC13cmFwcGVyIHAtM1wiPlxuICAgICAgICAgIDxoMz5EYXRhPC9oMz5cbiAgICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBtYXAgb2YgYXZhaWxhYmxlTWFwc1wiID5cbiAgICAgICAgICAgIDxtYXQtY2hlY2tib3ggY2xhc3M9XCJleGFtcGxlLW1hcmdpblwiICBbY2hlY2tlZF09XCJtYXAuc2VsZWN0ZWRcIiBbZGlzYWJsZWRdPVwibWFwRGlzYWJsZWQgfCBhc3luY1wiIChjaGFuZ2UpPVwic2VsZWN0TWFwcyhtYXAsJGV2ZW50KVwiPnt7bWFwLmRlc2NyaXB0aW9ufX08L21hdC1jaGVja2JveD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbGctNiBjb2wteGwtMyBtYi0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtd3JhcHBlciBwLTNcIj5cbiAgICAgICAgICA8cmVwb3J0ZXItd2FybmluZy1wbHV2aW8gIFtkaXNhYmxlZF09XCIhc2VjdGlvbkVuYWJsZWRcIiBbcmVwb3J0XT1cImN1cnJlbnRSZXBvcnRcIiAod2FybmluZ0NoYW5nZSk9XCJ3YXJuUGx1dmlvQ2hhbmdlKCRldmVudClcIj48L3JlcG9ydGVyLXdhcm5pbmctcGx1dmlvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1sZy02IGNvbC14bC0zIG1iLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC13cmFwcGVyIHAtM1wiPlxuICAgICAgICAgIDxyZXBvcnRlci13YXJuaW5nLWlkcm8gIFtkaXNhYmxlZF09XCIhc2VjdGlvbkVuYWJsZWRcIiBbcmVwb3J0XT1cImN1cnJlbnRSZXBvcnRcIiAod2FybmluZ0NoYW5nZSk9XCJ3YXJuSWRyb0NoYW5nZSgkZXZlbnQpXCI+PC9yZXBvcnRlci13YXJuaW5nLWlkcm8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLWxnLTYgY29sLXhsLTMgbWItMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXdyYXBwZXIgcC0zXCI+XG4gICAgICAgICAgPHJlcG9ydGVyLWltZy11cGxvYWRlciAodXBsb2FkZWRDaGFuZ2UpPVwidXBsb2FkZWRJbWFnZUNoYW5nZSgkZXZlbnQpXCI+PC9yZXBvcnRlci1pbWctdXBsb2FkZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbjwvZGl2PlxuIl19