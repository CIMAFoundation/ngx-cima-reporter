import { Component, EventEmitter, Input, Output } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { finalize } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "../../services/reporter.service";
import * as i2 from "../../services/geographic.service";
import * as i3 from "@cima/commons";
import * as i4 from "@angular/material/slide-toggle";
import * as i5 from "@angular/material/form-field";
import * as i6 from "../print-layout/print-layout.component";
import * as i7 from "@angular/material/checkbox";
import * as i8 from "../warning-pluvio/warning-pluvio.component";
import * as i9 from "../warning-idro/warning-idro.component";
import * as i10 from "../img-uploader/img-uploader.component";
import * as i11 from "@angular/forms";
import * as i12 from "@angular/common";
import * as i13 from "@angular/material/input";
export class CurrentSituationComponent {
    constructor(reportService, geoService, snackBar) {
        this.reportService = reportService;
        this.geoService = geoService;
        this.snackBar = snackBar;
        this.currentReportChange = new EventEmitter();
        this.availableMaps = [];
        this.sectionEnabled = false;
        this.textCurrent = '<span>Situazione attuale...</span>';
        this.config = { height: '200px', placeholder: 'Situazione attuale...' };
        this.uploadedImageLayers = [];
        this.warningIdroLayers = [];
        this.warningPluvioLayers = [];
        this.view = undefined;
        this.mapDisabled = new BehaviorSubject(true);
    }
    enableReport() {
        if (this.sectionEnabled) {
            this.currentReport = {
                fromUTCSecond: 0,
                toUTCSecond: 0,
                text: '',
                title: '',
                nImgs: 1,
                raings_title: 'Pluviometri',
                hydros_title: 'Idrometri',
                layers: [] //todo
            };
            this.viewSubscription = this.geoService.onViewCange().subscribe(data => {
                this.view = data;
                this.mapDisabled.next(this.view === undefined);
            });
            this.updateLayers();
            this.dateUpdate();
        }
        else {
            this.currentReport = undefined;
            if (this.viewSubscription)
                this.viewSubscription.unsubscribe();
        }
        this.currentReportChange.emit(this.currentReport);
    }
    ngOnInit() {
        this.enableReport();
        this.reportService.getAvailableMaps().subscribe(data => this.availableMaps = data);
    }
    updateLayers() {
        this.currentReport.layers = [];
        this.availableMaps.forEach(itm => { if (itm.selected && itm.data)
            this.currentReport.layers.push(itm.data); });
        this.warningIdroLayers.forEach(itm => this.currentReport.layers.push(itm));
        this.warningPluvioLayers.forEach(itm => this.currentReport.layers.push(itm));
        this.uploadedImageLayers.forEach(itm => this.currentReport.layers.push(itm));
        console.log('layers', this.currentReport.layers);
    }
    uploadedImageChange(event) {
        console.log(event);
        this.uploadedImageLayers = event;
        this.updateLayers();
    }
    warnIdroChange(event) {
        console.log(event);
        this.warningIdroLayers = event;
        this.updateLayers();
    }
    warnPluvioChange(event) {
        this.warningPluvioLayers = event;
        this.updateLayers();
    }
    layoutChange(layout) {
        if (this.currentReport)
            this.currentReport.nImgs = layout.numberOfImages;
        console.log('report', this.currentReport);
    }
    //todo: gestire cambio ritaglio
    selectMaps(map, value) {
        map.selected = value.checked;
        if (map.selected) {
            let mapParameter = {
                layer: map.value,
                from: this.currentReport.fromUTCSecond,
                to: this.currentReport.toUTCSecond,
                description: map.description,
                cumul: 3,
                lon_min: this.view.bbox.getWest(), lon_max: this.view.bbox.getEast(),
                lat_min: this.view.bbox.getSouth(), lat_max: this.view.bbox.getNorth()
            };
            this.mapDisabled.next(true);
            this.reportService.printMap(mapParameter)
                .pipe(finalize(() => this.mapDisabled.next(false)))
                .subscribe(data => {
                map.data = data;
                this.updateLayers();
            }, error => {
                console.log(error);
                this.snackBar.error('Errore durante il caricamento della mappa ' + map.description, '', { duration: 2000 });
                map.selected = false;
            });
        }
    }
    dateUpdate() {
        if (this.dateFrom)
            this.currentReport.fromUTCSecond = Math.trunc(new Date(this.dateFrom).getTime() / 1000);
        if (this.dateTo)
            this.currentReport.toUTCSecond = Math.trunc(new Date(this.dateTo).getTime() / 1000);
    }
}
CurrentSituationComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: CurrentSituationComponent, deps: [{ token: i1.ReporterService }, { token: i2.GeographicService }, { token: i3.SnackbarService }], target: i0.ɵɵFactoryTarget.Component });
CurrentSituationComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: CurrentSituationComponent, selector: "reporter-current-situation", inputs: { currentReport: "currentReport" }, outputs: { currentReportChange: "currentReportChange" }, ngImport: i0, template: "<!--abilitazione-->\n<mat-slide-toggle\n  class=\"\"\n  color=primary [(ngModel)]=\"sectionEnabled\" (change)=\"enableReport()\">\n  Includi Situazione Attuale\n</mat-slide-toggle>\n\n\n<div class=\"section-wrapper\" [ngClass]=\"!sectionEnabled?'section-disabled':''\">\n  <!--mappa-->\n  <div class=\"col-12 my-2\">\n    <!--periodo di analisi-->\n    <h2 class=\"border-bottom mb-3 mt-3\">Periodo di Analisi</h2>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>da</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data da\" [(ngModel)]= \"dateFrom\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>a</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data a\" [(ngModel)]= \"dateTo\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <!-- <button mat-flat-button color=\"primary\"><span class=\"fas fa-clock me-1\"></span>Now</button> -->\n\n  </div>\n\n  <!--testo situazione pregressa-->\n  <div class=\"col-12 my-2\" *ngIf=\"sectionEnabled\">\n    <cima-text-editor [(text)]=\"currentReport.text\" [config]=\"config\"></cima-text-editor>\n  </div>\n\n  <!--layout stampa-->\n  <div class=\"col-12 my-2\">\n    <reporter-print-layout (selected)=\"layoutChange($event)\"></reporter-print-layout>\n  </div>\n\n  <!--layer-->\n  <div class=\"col-12 my-2\">\n    <h2 class=\"border-bottom mb-3 mt-3\">Layers</h2>\n    <div class=\"row\">\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <h3>Data</h3>\n          <div *ngFor=\"let map of availableMaps\" >\n            <mat-checkbox class=\"example-margin\"  [checked]=\"map.selected\" [disabled]=\"mapDisabled | async\" (change)=\"selectMaps(map,$event)\">{{map.description}}</mat-checkbox>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-pluvio  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnPluvioChange($event)\"></reporter-warning-pluvio>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-idro  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnIdroChange($event)\"></reporter-warning-idro>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-img-uploader (uploadedChange)=\"uploadedImageChange($event)\"></reporter-img-uploader>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n", styles: [".section-disabled{opacity:.3;pointer-events:none}.col-wrapper{background-color:#f5f5f5;border-radius:4px}:host ::ng-deep .col-wrapper .mat-form-field-infix{width:auto!important}\n"], components: [{ type: i4.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex", "name", "id", "labelPosition", "aria-label", "aria-labelledby", "aria-describedby", "required", "checked"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }, { type: i5.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }, { type: i3.TextEditorComponent, selector: "cima-text-editor", inputs: ["validator", "text", "config"], outputs: ["textChange"] }, { type: i6.PrintLayoutComponent, selector: "reporter-print-layout", outputs: ["selected"] }, { type: i7.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i8.WarningPluvioComponent, selector: "reporter-warning-pluvio", inputs: ["disabled", "report"], outputs: ["warningChange"] }, { type: i9.WarningIdroComponent, selector: "reporter-warning-idro", inputs: ["disabled", "report"], outputs: ["warningChange"] }, { type: i10.ImgUploaderComponent, selector: "reporter-img-uploader", outputs: ["uploadedChange"] }], directives: [{ type: i11.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i11.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i12.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i5.MatLabel, selector: "mat-label" }, { type: i13.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i11.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i12.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i12.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }], pipes: { "async": i12.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: CurrentSituationComponent, decorators: [{
            type: Component,
            args: [{ selector: 'reporter-current-situation', template: "<!--abilitazione-->\n<mat-slide-toggle\n  class=\"\"\n  color=primary [(ngModel)]=\"sectionEnabled\" (change)=\"enableReport()\">\n  Includi Situazione Attuale\n</mat-slide-toggle>\n\n\n<div class=\"section-wrapper\" [ngClass]=\"!sectionEnabled?'section-disabled':''\">\n  <!--mappa-->\n  <div class=\"col-12 my-2\">\n    <!--periodo di analisi-->\n    <h2 class=\"border-bottom mb-3 mt-3\">Periodo di Analisi</h2>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>da</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data da\" [(ngModel)]= \"dateFrom\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <mat-form-field appearance=\"fill\" class=\"me-2\">\n      <mat-label>a</mat-label>\n      <input matInput type=\"datetime-local\" placeholder=\"data a\" [(ngModel)]= \"dateTo\" (change)=\"dateUpdate()\">\n    </mat-form-field>\n\n    <!-- <button mat-flat-button color=\"primary\"><span class=\"fas fa-clock me-1\"></span>Now</button> -->\n\n  </div>\n\n  <!--testo situazione pregressa-->\n  <div class=\"col-12 my-2\" *ngIf=\"sectionEnabled\">\n    <cima-text-editor [(text)]=\"currentReport.text\" [config]=\"config\"></cima-text-editor>\n  </div>\n\n  <!--layout stampa-->\n  <div class=\"col-12 my-2\">\n    <reporter-print-layout (selected)=\"layoutChange($event)\"></reporter-print-layout>\n  </div>\n\n  <!--layer-->\n  <div class=\"col-12 my-2\">\n    <h2 class=\"border-bottom mb-3 mt-3\">Layers</h2>\n    <div class=\"row\">\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <h3>Data</h3>\n          <div *ngFor=\"let map of availableMaps\" >\n            <mat-checkbox class=\"example-margin\"  [checked]=\"map.selected\" [disabled]=\"mapDisabled | async\" (change)=\"selectMaps(map,$event)\">{{map.description}}</mat-checkbox>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-pluvio  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnPluvioChange($event)\"></reporter-warning-pluvio>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-warning-idro  [disabled]=\"!sectionEnabled\" [report]=\"currentReport\" (warningChange)=\"warnIdroChange($event)\"></reporter-warning-idro>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 col-xl-3 mb-2\">\n        <div class=\"col-wrapper p-3\">\n          <reporter-img-uploader (uploadedChange)=\"uploadedImageChange($event)\"></reporter-img-uploader>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>\n", styles: [".section-disabled{opacity:.3;pointer-events:none}.col-wrapper{background-color:#f5f5f5;border-radius:4px}:host ::ng-deep .col-wrapper .mat-form-field-infix{width:auto!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.ReporterService }, { type: i2.GeographicService }, { type: i3.SnackbarService }]; }, propDecorators: { currentReport: [{
                type: Input
            }], currentReportChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2ltYS9yZXBvcnRlci9zcmMvbGliL2NvbXBvbmVudHMvY3VycmVudC1zaXR1YXRpb24vY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2ltYS9yZXBvcnRlci9zcmMvbGliL2NvbXBvbmVudHMvY3VycmVudC1zaXR1YXRpb24vY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvRSxPQUFPLEVBQUUsZUFBZSxFQUFnQixNQUFNLE1BQU0sQ0FBQztBQUNyRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQVkxQyxNQUFNLE9BQU8seUJBQXlCO0lBc0JwQyxZQUFvQixhQUE4QixFQUFVLFVBQTZCLEVBQzdFLFFBQXlCO1FBRGpCLGtCQUFhLEdBQWIsYUFBYSxDQUFpQjtRQUFVLGVBQVUsR0FBVixVQUFVLENBQW1CO1FBQzdFLGFBQVEsR0FBUixRQUFRLENBQWlCO1FBckIzQix3QkFBbUIsR0FBRyxJQUFJLFlBQVksRUFBaUIsQ0FBQztRQUUzRCxrQkFBYSxHQUFRLEVBQUUsQ0FBQztRQUN4QixtQkFBYyxHQUFDLEtBQUssQ0FBQTtRQU1wQixnQkFBVyxHQUFXLG9DQUFvQyxDQUFDO1FBQzNELFdBQU0sR0FBOEIsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSx1QkFBdUIsRUFBQyxDQUFBO1FBRzFGLHdCQUFtQixHQUFRLEVBQUUsQ0FBQztRQUM5QixzQkFBaUIsR0FBUSxFQUFFLENBQUM7UUFD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LENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyRixDQUFDOzt1SEFwSVUseUJBQXlCOzJHQUF6Qix5QkFBeUIsdUtDZnRDLHNzRkEwRUE7NEZEM0RhLHlCQUF5QjtrQkFMckMsU0FBUzsrQkFDRSw0QkFBNEI7b0tBSzdCLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ0ksbUJBQW1CO3NCQUE1QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtTbmFja2JhclNlcnZpY2UsIFRleHRFZGl0b3JDb21wb25lbnRDb25maWd9IGZyb20gXCJAY2ltYS9jb21tb25zXCI7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmluYWxpemUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBQcmludExheW91dCB9IGZyb20gJy4uLy4uL21vZGVscy9jbGFzc2VzJztcbmltcG9ydCB7IEN1cnJlbnRSZXBvcnQgfSBmcm9tICcuLi8uLi9tb2RlbHMvaW50ZXJmYWNlcyc7XG5pbXBvcnQge0Zha2VEYXRhU2VydmljZX0gZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2Zha2UtZGF0YS5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBHZW9ncmFwaGljU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2dlb2dyYXBoaWMuc2VydmljZSc7XG5pbXBvcnQgeyBSZXBvcnRlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9yZXBvcnRlci5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncmVwb3J0ZXItY3VycmVudC1zaXR1YXRpb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vY3VycmVudC1zaXR1YXRpb24uY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jdXJyZW50LXNpdHVhdGlvbi5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEN1cnJlbnRTaXR1YXRpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKSBjdXJyZW50UmVwb3J0OiBDdXJyZW50UmVwb3J0O1xuICBAT3V0cHV0KCkgY3VycmVudFJlcG9ydENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Q3VycmVudFJlcG9ydD4oKTtcblxuICBwdWJsaWMgYXZhaWxhYmxlTWFwczogYW55W109W107XG4gIHB1YmxpYyBzZWN0aW9uRW5hYmxlZD1mYWxzZVxuXG4gIHB1YmxpYyBkYXRlRnJvbTogYW55O1xuICBwdWJsaWMgZGF0ZVRvOiBhbnk7XG5cblxuICBwdWJsaWMgdGV4dEN1cnJlbnQ6IHN0cmluZyA9ICc8c3Bhbj5TaXR1YXppb25lIGF0dHVhbGUuLi48L3NwYW4+JztcbiAgcHVibGljIGNvbmZpZzogVGV4dEVkaXRvckNvbXBvbmVudENvbmZpZyA9IHtoZWlnaHQ6JzIwMHB4JywgcGxhY2Vob2xkZXI6ICdTaXR1YXppb25lIGF0dHVhbGUuLi4nfVxuXG5cbiAgcHVibGljIHVwbG9hZGVkSW1hZ2VMYXllcnM6IGFueVtdPVtdO1xuICBwdWJsaWMgd2FybmluZ0lkcm9MYXllcnM6IGFueVtdPVtdO1xuICBwdWJsaWMgd2FybmluZ1BsdXZpb0xheWVyczogYW55W109W107XG4gIHB1YmxpYyB2aWV3OiBhbnk9dW5kZWZpbmVkO1xuICBwdWJsaWMgbWFwRGlzYWJsZWQ9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4odHJ1ZSk7XG4gIHZpZXdTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlcG9ydFNlcnZpY2U6IFJlcG9ydGVyU2VydmljZSwgcHJpdmF0ZSBnZW9TZXJ2aWNlOiBHZW9ncmFwaGljU2VydmljZSxcbiAgICAgIHByaXZhdGUgc25hY2tCYXI6IFNuYWNrYmFyU2VydmljZSkgeyB9XG5cblxuXG4gIHB1YmxpYyBlbmFibGVSZXBvcnQoKXtcbiAgICBpZiAodGhpcy5zZWN0aW9uRW5hYmxlZCl7XG4gICAgICB0aGlzLmN1cnJlbnRSZXBvcnQgPSB7XG4gICAgICAgIGZyb21VVENTZWNvbmQ6IDAsXG4gICAgICAgIHRvVVRDU2Vjb25kOiAwLFxuICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICBuSW1nczogMSxcbiAgICAgICAgcmFpbmdzX3RpdGxlOiAnUGx1dmlvbWV0cmknLFxuICAgICAgICBoeWRyb3NfdGl0bGU6ICdJZHJvbWV0cmknLFxuICAgICAgICBsYXllcnM6IFtdIC8vdG9kb1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZpZXdTdWJzY3JpcHRpb249dGhpcy5nZW9TZXJ2aWNlLm9uVmlld0NhbmdlKCkuc3Vic2NyaWJlKFxuICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3PWRhdGE7XG4gICAgICAgICAgICB0aGlzLm1hcERpc2FibGVkLm5leHQodGhpcy52aWV3PT09dW5kZWZpbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgdGhpcy51cGRhdGVMYXllcnMoKTtcbiAgICAgICAgdGhpcy5kYXRlVXBkYXRlKCk7XG4gICAgfSBlbHNle1xuICAgICAgdGhpcy5jdXJyZW50UmVwb3J0PSB1bmRlZmluZWQ7XG4gICAgICBpZiAodGhpcy52aWV3U3Vic2NyaXB0aW9uKSB0aGlzLnZpZXdTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRSZXBvcnRDaGFuZ2UuZW1pdCh0aGlzLmN1cnJlbnRSZXBvcnQpO1xuXG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmVuYWJsZVJlcG9ydCgpO1xuICAgIHRoaXMucmVwb3J0U2VydmljZS5nZXRBdmFpbGFibGVNYXBzKCkuc3Vic2NyaWJlKFxuICAgICAgZGF0YSA9PiB0aGlzLmF2YWlsYWJsZU1hcHM9ZGF0YVxuICAgIClcblxuXG5cbiAgfVxuICBwcml2YXRlIHVwZGF0ZUxheWVycygpIHtcbiAgICB0aGlzLmN1cnJlbnRSZXBvcnQubGF5ZXJzPVtdO1xuICAgIHRoaXMuYXZhaWxhYmxlTWFwcy5mb3JFYWNoKGl0bSA9PiB7aWYgKGl0bS5zZWxlY3RlZCAmJiBpdG0uZGF0YSkgIHRoaXMuY3VycmVudFJlcG9ydC5sYXllcnMucHVzaChpdG0uZGF0YSl9KTtcbiAgICB0aGlzLndhcm5pbmdJZHJvTGF5ZXJzLmZvckVhY2goIGl0bSA9PiB0aGlzLmN1cnJlbnRSZXBvcnQubGF5ZXJzLnB1c2goaXRtKSk7XG4gICAgdGhpcy53YXJuaW5nUGx1dmlvTGF5ZXJzLmZvckVhY2goIGl0bSA9PiB0aGlzLmN1cnJlbnRSZXBvcnQubGF5ZXJzLnB1c2goaXRtKSk7XG4gICAgdGhpcy51cGxvYWRlZEltYWdlTGF5ZXJzLmZvckVhY2goaXRtID0+IHRoaXMuY3VycmVudFJlcG9ydC5sYXllcnMucHVzaChpdG0pKTtcbiAgICBjb25zb2xlLmxvZygnbGF5ZXJzJyx0aGlzLmN1cnJlbnRSZXBvcnQubGF5ZXJzKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGxvYWRlZEltYWdlQ2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgdGhpcy51cGxvYWRlZEltYWdlTGF5ZXJzPWV2ZW50O1xuICAgIHRoaXMudXBkYXRlTGF5ZXJzKCk7XG4gIH1cbiAgcHVibGljIHdhcm5JZHJvQ2hhbmdlKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgdGhpcy53YXJuaW5nSWRyb0xheWVycz1ldmVudDtcbiAgICB0aGlzLnVwZGF0ZUxheWVycygpO1xuICB9XG5cbiAgcHVibGljIHdhcm5QbHV2aW9DaGFuZ2UoZXZlbnQ6IGFueSkge1xuICAgIHRoaXMud2FybmluZ1BsdXZpb0xheWVycz1ldmVudDtcbiAgICB0aGlzLnVwZGF0ZUxheWVycygpO1xuICB9XG5cbiAgcHVibGljIGxheW91dENoYW5nZShsYXlvdXQ6IFByaW50TGF5b3V0KSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFJlcG9ydClcbiAgICAgIHRoaXMuY3VycmVudFJlcG9ydC5uSW1ncyA9IGxheW91dC5udW1iZXJPZkltYWdlcztcbiAgICBjb25zb2xlLmxvZygncmVwb3J0Jyx0aGlzLmN1cnJlbnRSZXBvcnQpO1xuICB9XG4gIC8vdG9kbzogZ2VzdGlyZSBjYW1iaW8gcml0YWdsaW9cbiAgc2VsZWN0TWFwcyhtYXA6IGFueSx2YWx1ZTogYW55KSB7XG4gICAgbWFwLnNlbGVjdGVkPXZhbHVlLmNoZWNrZWQ7XG4gICAgaWYgKG1hcC5zZWxlY3RlZCl7XG4gICAgICBsZXQgbWFwUGFyYW1ldGVyPXtcbiAgICAgICAgbGF5ZXI6IG1hcC52YWx1ZSxcbiAgICAgICAgZnJvbTogdGhpcy5jdXJyZW50UmVwb3J0LmZyb21VVENTZWNvbmQsXG4gICAgICAgIHRvOiB0aGlzLmN1cnJlbnRSZXBvcnQudG9VVENTZWNvbmQsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtYXAuZGVzY3JpcHRpb24sXG4gICAgICAgIGN1bXVsOiAzLFxuICAgICAgICBsb25fbWluOiB0aGlzLnZpZXcuYmJveC5nZXRXZXN0KCksIGxvbl9tYXg6IHRoaXMudmlldy5iYm94LmdldEVhc3QoKSxcbiAgICAgICAgbGF0X21pbjogdGhpcy52aWV3LmJib3guZ2V0U291dGgoKSwgbGF0X21heDogdGhpcy52aWV3LmJib3guZ2V0Tm9ydGgoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcERpc2FibGVkLm5leHQodHJ1ZSk7XG5cbiAgICAgIHRoaXMucmVwb3J0U2VydmljZS5wcmludE1hcChtYXBQYXJhbWV0ZXIpXG4gICAgICAgICAgLnBpcGUoZmluYWxpemUoKCk9PiB0aGlzLm1hcERpc2FibGVkLm5leHQoZmFsc2UpKSlcbiAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgbWFwLmRhdGE9ZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxheWVycygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yID0+e1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgIHRoaXMuc25hY2tCYXIuZXJyb3IoJ0Vycm9yZSBkdXJhbnRlIGlsIGNhcmljYW1lbnRvIGRlbGxhIG1hcHBhICcrbWFwLmRlc2NyaXB0aW9uLCAnJywge2R1cmF0aW9uOjIwMDB9KTtcbiAgICAgICAgICAgICAgbWFwLnNlbGVjdGVkPWZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICB9XG4gIH1cblxuICBkYXRlVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLmRhdGVGcm9tKVxuICAgICAgdGhpcy5jdXJyZW50UmVwb3J0LmZyb21VVENTZWNvbmQ9IE1hdGgudHJ1bmMobmV3IERhdGUodGhpcy5kYXRlRnJvbSkuZ2V0VGltZSgpLzEwMDApO1xuICAgIGlmICh0aGlzLmRhdGVUbylcbiAgICAgIHRoaXMuY3VycmVudFJlcG9ydC50b1VUQ1NlY29uZD0gTWF0aC50cnVuYyhuZXcgRGF0ZSh0aGlzLmRhdGVUbykuZ2V0VGltZSgpLzEwMDApO1xuICB9XG59XG4iLCI8IS0tYWJpbGl0YXppb25lLS0+XG48bWF0LXNsaWRlLXRvZ2dsZVxuICBjbGFzcz1cIlwiXG4gIGNvbG9yPXByaW1hcnkgWyhuZ01vZGVsKV09XCJzZWN0aW9uRW5hYmxlZFwiIChjaGFuZ2UpPVwiZW5hYmxlUmVwb3J0KClcIj5cbiAgSW5jbHVkaSBTaXR1YXppb25lIEF0dHVhbGVcbjwvbWF0LXNsaWRlLXRvZ2dsZT5cblxuXG48ZGl2IGNsYXNzPVwic2VjdGlvbi13cmFwcGVyXCIgW25nQ2xhc3NdPVwiIXNlY3Rpb25FbmFibGVkPydzZWN0aW9uLWRpc2FibGVkJzonJ1wiPlxuICA8IS0tbWFwcGEtLT5cbiAgPGRpdiBjbGFzcz1cImNvbC0xMiBteS0yXCI+XG4gICAgPCEtLXBlcmlvZG8gZGkgYW5hbGlzaS0tPlxuICAgIDxoMiBjbGFzcz1cImJvcmRlci1ib3R0b20gbWItMyBtdC0zXCI+UGVyaW9kbyBkaSBBbmFsaXNpPC9oMj5cblxuICAgIDxtYXQtZm9ybS1maWVsZCBhcHBlYXJhbmNlPVwiZmlsbFwiIGNsYXNzPVwibWUtMlwiPlxuICAgICAgPG1hdC1sYWJlbD5kYTwvbWF0LWxhYmVsPlxuICAgICAgPGlucHV0IG1hdElucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHBsYWNlaG9sZGVyPVwiZGF0YSBkYVwiIFsobmdNb2RlbCldPSBcImRhdGVGcm9tXCIgKGNoYW5nZSk9XCJkYXRlVXBkYXRlKClcIj5cbiAgICA8L21hdC1mb3JtLWZpZWxkPlxuXG4gICAgPG1hdC1mb3JtLWZpZWxkIGFwcGVhcmFuY2U9XCJmaWxsXCIgY2xhc3M9XCJtZS0yXCI+XG4gICAgICA8bWF0LWxhYmVsPmE8L21hdC1sYWJlbD5cbiAgICAgIDxpbnB1dCBtYXRJbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBwbGFjZWhvbGRlcj1cImRhdGEgYVwiIFsobmdNb2RlbCldPSBcImRhdGVUb1wiIChjaGFuZ2UpPVwiZGF0ZVVwZGF0ZSgpXCI+XG4gICAgPC9tYXQtZm9ybS1maWVsZD5cblxuICAgIDwhLS0gPGJ1dHRvbiBtYXQtZmxhdC1idXR0b24gY29sb3I9XCJwcmltYXJ5XCI+PHNwYW4gY2xhc3M9XCJmYXMgZmEtY2xvY2sgbWUtMVwiPjwvc3Bhbj5Ob3c8L2J1dHRvbj4gLS0+XG5cbiAgPC9kaXY+XG5cbiAgPCEtLXRlc3RvIHNpdHVhemlvbmUgcHJlZ3Jlc3NhLS0+XG4gIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXktMlwiICpuZ0lmPVwic2VjdGlvbkVuYWJsZWRcIj5cbiAgICA8Y2ltYS10ZXh0LWVkaXRvciBbKHRleHQpXT1cImN1cnJlbnRSZXBvcnQudGV4dFwiIFtjb25maWddPVwiY29uZmlnXCI+PC9jaW1hLXRleHQtZWRpdG9yPlxuICA8L2Rpdj5cblxuICA8IS0tbGF5b3V0IHN0YW1wYS0tPlxuICA8ZGl2IGNsYXNzPVwiY29sLTEyIG15LTJcIj5cbiAgICA8cmVwb3J0ZXItcHJpbnQtbGF5b3V0IChzZWxlY3RlZCk9XCJsYXlvdXRDaGFuZ2UoJGV2ZW50KVwiPjwvcmVwb3J0ZXItcHJpbnQtbGF5b3V0PlxuICA8L2Rpdj5cblxuICA8IS0tbGF5ZXItLT5cbiAgPGRpdiBjbGFzcz1cImNvbC0xMiBteS0yXCI+XG4gICAgPGgyIGNsYXNzPVwiYm9yZGVyLWJvdHRvbSBtYi0zIG10LTNcIj5MYXllcnM8L2gyPlxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cblxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbGctNiBjb2wteGwtMyBtYi0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtd3JhcHBlciBwLTNcIj5cbiAgICAgICAgICA8aDM+RGF0YTwvaDM+XG4gICAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgbWFwIG9mIGF2YWlsYWJsZU1hcHNcIiA+XG4gICAgICAgICAgICA8bWF0LWNoZWNrYm94IGNsYXNzPVwiZXhhbXBsZS1tYXJnaW5cIiAgW2NoZWNrZWRdPVwibWFwLnNlbGVjdGVkXCIgW2Rpc2FibGVkXT1cIm1hcERpc2FibGVkIHwgYXN5bmNcIiAoY2hhbmdlKT1cInNlbGVjdE1hcHMobWFwLCRldmVudClcIj57e21hcC5kZXNjcmlwdGlvbn19PC9tYXQtY2hlY2tib3g+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLWxnLTYgY29sLXhsLTMgbWItMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXdyYXBwZXIgcC0zXCI+XG4gICAgICAgICAgPHJlcG9ydGVyLXdhcm5pbmctcGx1dmlvICBbZGlzYWJsZWRdPVwiIXNlY3Rpb25FbmFibGVkXCIgW3JlcG9ydF09XCJjdXJyZW50UmVwb3J0XCIgKHdhcm5pbmdDaGFuZ2UpPVwid2FyblBsdXZpb0NoYW5nZSgkZXZlbnQpXCI+PC9yZXBvcnRlci13YXJuaW5nLXBsdXZpbz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbGctNiBjb2wteGwtMyBtYi0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtd3JhcHBlciBwLTNcIj5cbiAgICAgICAgICA8cmVwb3J0ZXItd2FybmluZy1pZHJvICBbZGlzYWJsZWRdPVwiIXNlY3Rpb25FbmFibGVkXCIgW3JlcG9ydF09XCJjdXJyZW50UmVwb3J0XCIgKHdhcm5pbmdDaGFuZ2UpPVwid2Fybklkcm9DaGFuZ2UoJGV2ZW50KVwiPjwvcmVwb3J0ZXItd2FybmluZy1pZHJvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1sZy02IGNvbC14bC0zIG1iLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC13cmFwcGVyIHAtM1wiPlxuICAgICAgICAgIDxyZXBvcnRlci1pbWctdXBsb2FkZXIgKHVwbG9hZGVkQ2hhbmdlKT1cInVwbG9hZGVkSW1hZ2VDaGFuZ2UoJGV2ZW50KVwiPjwvcmVwb3J0ZXItaW1nLXVwbG9hZGVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG48L2Rpdj5cbiJdfQ==